{"ast":null,"code":"var _jsxFileName = \"C:\\\\All Project\\\\Flutter_projects\\\\food Recomendation\\\\DiaFit-master\\\\components\\\\bargraph.jsx\";\nimport { getAuth, onAuthStateChanged } from 'firebase/auth';\nimport { doc, onSnapshot } from 'firebase/firestore';\nimport React, { useEffect, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { BarChart } from \"react-native-gifted-charts\";\nimport { firestoredb } from '../firebaseConfig';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Bargraph() {\n  const [user, setUser] = useState(null);\n  const [userDiet, setUserDiet] = useState({});\n  console.log(\"Calcium: \", userDiet.calcium);\n  useEffect(() => {\n    const auth = getAuth();\n    const unsubscribeAuth = onAuthStateChanged(auth, async user => {\n      setUser(user);\n      if (user) {\n        const dietRef = doc(firestoredb, 'userDiet', user.uid);\n        const dietSnapshot = onSnapshot(dietRef, doc => {\n          if (doc.exists()) {\n            const data = doc.data();\n            console.log(\"Data Loading: \", data);\n            setUserDiet(data);\n          } else {\n            console.log(\"No such document!\");\n          }\n        });\n        return () => dietSnapshot();\n      }\n    });\n    return () => unsubscribeAuth();\n  }, []);\n  const data = [{\n    value: userDiet.glycemic_Index || 0,\n    label: 'Gl'\n  }, {\n    value: userDiet.calcium || 0,\n    label: 'Cal'\n  }, {\n    value: userDiet.protein || 0,\n    label: 'Prot'\n  }, {\n    value: userDiet.carbohydrates || 0,\n    label: 'CHO'\n  }, {\n    value: userDiet.fat || 0,\n    label: 'F'\n  }];\n  return _jsxDEV(View, {\n    style: styles.container,\n    children: _jsxDEV(View, {\n      style: styles.chartContainer,\n      children: _jsxDEV(BarChart, {\n        data: data,\n        barColor: \"#1e293b\",\n        frontColor: \"#177AD5\",\n        barSpacing: 18,\n        barStyle: {\n          borderRadius: 8\n        },\n        yAxisLabel: \"\",\n        xAxisLabels: ['Gl', 'Cal', 'Prot', 'CHO', 'F'],\n        showGridLines: true,\n        gridLinesColor: \"#1e3a8a\",\n        gridLinesWidth: 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n}\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    padding: 20\n  },\n  chartContainer: {\n    flex: 1\n  }\n});","map":{"version":3,"names":["getAuth","onAuthStateChanged","doc","onSnapshot","React","useEffect","useState","StyleSheet","View","BarChart","firestoredb","jsxDEV","_jsxDEV","Bargraph","user","setUser","userDiet","setUserDiet","console","log","calcium","auth","unsubscribeAuth","dietRef","uid","dietSnapshot","exists","data","value","glycemic_Index","label","protein","carbohydrates","fat","style","styles","container","children","chartContainer","barColor","frontColor","barSpacing","barStyle","borderRadius","yAxisLabel","xAxisLabels","showGridLines","gridLinesColor","gridLinesWidth","fileName","_jsxFileName","lineNumber","columnNumber","create","flex","backgroundColor","padding"],"sources":["C:/All Project/Flutter_projects/food Recomendation/DiaFit-master/components/bargraph.jsx"],"sourcesContent":["import { getAuth, onAuthStateChanged } from 'firebase/auth';\nimport { doc, onSnapshot } from 'firebase/firestore'; // Added onSnapshot\nimport React, { useEffect, useState } from 'react';\nimport { StyleSheet, View } from 'react-native';\nimport { BarChart } from \"react-native-gifted-charts\";\nimport { firestoredb } from '../firebaseConfig';\n\nexport default function Bargraph() {\n    const [user, setUser] = useState(null);\n    const [userDiet, setUserDiet] = useState({});\n\n    console.log(\"Calcium: \", userDiet.calcium);\n\n    useEffect(() => {\n        const auth = getAuth();\n        const unsubscribeAuth = onAuthStateChanged(auth, async (user) => {\n            setUser(user);\n            if (user) {\n                const dietRef = doc(firestoredb, 'userDiet', user.uid);\n                const dietSnapshot = onSnapshot(dietRef, (doc) => {\n                    if (doc.exists()) {\n                        const data = doc.data();\n                        console.log(\"Data Loading: \", data);\n                        setUserDiet(data);\n                    } else {\n                        console.log(\"No such document!\");\n                    }\n                });\n                // Return the unsubscribe function\n                return () => dietSnapshot();\n            }\n        });\n\n        return () => unsubscribeAuth();\n    }, []);\n\n    // Convert userDiet object to data array for BarChart\n    const data = [\n        { value: userDiet.glycemic_Index || 0, label: 'Gl' },\n        { value: userDiet.calcium || 0, label: 'Cal' },\n        { value: userDiet.protein || 0, label: 'Prot' },\n        { value: userDiet.carbohydrates || 0, label: 'CHO' },\n        { value: userDiet.fat || 0, label: 'F' },\n        // Add more properties if needed\n    ];\n\n    return (\n        <View style={styles.container}>\n            <View style={styles.chartContainer}>\n                <BarChart\n                    data={data}\n                    barColor=\"#1e293b\"\n                    frontColor='#177AD5'\n                    barSpacing={18}\n                    barStyle={{ borderRadius: 8 }}\n                    yAxisLabel=\"\"\n                    xAxisLabels={['Gl', 'Cal', 'Prot', 'CHO', 'F']}\n                    showGridLines\n                    gridLinesColor=\"#1e3a8a\"\n                    gridLinesWidth={1}\n                />\n            </View>\n        </View>\n    );\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        backgroundColor: '#fff',\n        padding: 20,\n    },\n    chartContainer: {\n        flex: 1,\n    },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}